# MoreGameEvents-MCDR
向MCDR添加更多的游戏事件！

目前尚处于开发中状态。

## 适用范围
非英语母语的Minecraft游戏服务器，但目前本插件只保证简体中文下能正常工作，其他语言需自行测试。
> 简中能跑的话，其他语言大概也没问题罢

README和文档部分不会支持简体中文和英文以外的其他语言，但欢迎PR

本插件理论上适合各种类型的服务端使用，包括带有各种第三方模组的服务器，只要服务端会在控制台严格按照指定的语言文件输出相关的事件信息

## 为什么需要此插件
- 为消息互通开发提供更丰富的游戏内事件信息
- 结合Minecraft Data API，为诸如“返回死亡点”等更丰富的玩法开发设计提供基础
- 其他（等待有缘人丰富此内容）

## 工作原理
应用JSONLangTranslateAPI（插件id: jtl_api）使用合适的语言文件，对服务端输出的日志信息进行解析并识别出成就等游戏事件，然后派发插件事件方便二次开发使用。
> 该API成功解决了此前同类插件需要二次处理语言文件甚至写到插件源代码内的弊端，另外，在最新的版本中，语言文件中带注释无法识别和格式嵌套的内容误识别的问题也已经解决。

考虑到多语言支持，插件并不会直接将识别到的info翻译成中文或类似操作，而是在派发的事件中提供以下内容：
- player 玩家名
- event 事件类型（直接使用翻译键名称即key）
- content 事件内容（字典）
- [1]content.lang 事件信息原始info输出的语言类型，你可以据此判断是否需要进行二次翻译
- content.raw 事件信息的原始info输出，如“Steve被僵尸杀死了”。（虽然我觉得一般用不到）
- content.advancement 成就名称（仅成就事件）
- content.death.killer 击杀者（杀死玩家的人或怪物）
- content.death.weapon 击杀者使用的武器（参考上一条）
- content.other 有待补充，咕咕咕
> 目前插件仍处于早期开发（新建文件夹）阶段，请以最终开发结果为准。

然后，开发者可二次处理这些信息（推荐使用jtl_api处理这些信息中需要二次翻译的部分），并将其转发到需要的地方（例如消息互通转发到其他平台）或进行开发。

### 备注
[1] 理论上这一部分可以支持输出中文log的服务端，但是这可能导致其他MCDR插件和MCDR本体无法正常解析服务器日志内容，故不推荐启用服务端的中文log
